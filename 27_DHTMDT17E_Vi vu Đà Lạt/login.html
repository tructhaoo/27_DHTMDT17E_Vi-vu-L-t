<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Register Form</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Custom styles for the form */
        .form-wrap {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .form-wrap .nav-tabs {
            margin-bottom: 20px;
        }
    </style>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <div id="header">
            <div id="toggle">
                <i class="fas fa-bars"></i>
            </div>
            <nav class="menu">
                <ul>
                    <li class="active"><a href="index.html">Trang chủ</a></li>
                    <li><a href="about.html">Về Chúng Tôi</a></li>
                    <li class="blog-dropdown">
                        <a href="hi.html">Du Lịch Đà Lạt</a>
                        <div class="blog-dropdown-content">
                            <a href="kinh nghiệm.html">Kinh Nghiệm</a>
                            <a href="blog.html">Blog</a>
                        </div>
                    <li class="service-dropdown">
                        <a href="tour.html">Tour Du Lịch</a>
                    <li><a href="contact.html">Liên hệ</a></li>
                    <li>

                        <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                        <a href="login.html">
                            <svg height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60.671 60.671"
                                xml:space="preserve">
                                <g>
                                    <g>
                                        <ellipse style="fill:#010002;" cx="30.336" cy="12.097" rx="11.997"
                                            ry="12.097" />
                                        <path style="fill:#010002;" d="M35.64,30.079H25.031c-7.021,0-12.714,5.739-12.714,12.821v17.771h36.037V42.9
			C48.354,35.818,42.661,30.079,35.64,30.079z" />
                                    </g>
                                </g>
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>

        </div>
        <div class="form-wrap " style="margin-top: 12rem;">
            <!-- Navigation tabs for Login and Register -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="login-tab" data-toggle="tab" href="#login" role="tab"
                        aria-controls="login" aria-selected="true">Đăng nhập</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="register-tab" data-toggle="tab" href="#register" role="tab"
                        aria-controls="register" aria-selected="false">Đăng ký</a>
                </li>
            </ul>

            <!-- Tab panes for Login and Register forms -->
            <div class="tab-content" id="myTabContent">
                <!-- Login Form -->
                <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
                    <form id="loginForm" method="get">
                        <div class="form-group">
                            <input type="text" class="form-control" name="email" placeholder="Email/Số điện thoại">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" name="password" placeholder="Mật khẩu">
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="remember">
                            <label class="form-check-label" for="remember">Ghi nhớ tài khoản</label>
                        </div>
                        <a href="#" class="d-block mb-3">Quên mật khẩu</a>
                        <button type="submit" class="btn btn-warning btn-block">ĐĂNG NHẬP</button>
                    </form>
                    <p class="mt-3">Bằng việc đăng nhập hoặc đăng ký, tôi đồng ý với Vinpearl về <br>
                        <a href="#">Điều kiện điều khoản</a> và <a href="#">Chính sách bảo mật</a>
                    </p>
                    <p>Chưa có tài khoản? <a href="#register" data-toggle="tab">Đăng ký ngay</a></p>
                </div>

                <!-- Register Form -->
                <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
                    <form id="registerForm" method="post">
                        <div class="form-group">
                            <input type="text" name="email" class="form-control" id="registerEmail"
                                placeholder="Email/Số điện thoại">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="firstName" id="firstName" placeholder="Họ">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="lastName" id="lastName"
                                placeholder="Tên đệm và tên">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" name="registerPassword" id="registerPassword"
                                placeholder="Mật khẩu">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" name="confirmPassword" id="confirmPassword"
                                placeholder="Nhập lại mật khẩu">
                        </div>
                        <button type="submit" class="btn btn-success btn-block">ĐĂNG KÝ</button>
                    </form>
                </div>
            </div>

            <!-- Additional information and links -->

        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS and dependencies (jQuery) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const registerForm = document.querySelector('#registerForm');

            registerForm.addEventListener('submit', function (event) {
                event.preventDefault(); // Ngăn chặn hành vi mặc định của form

                const email = registerForm.querySelector('input[name="email"]').value;
                const firstName = registerForm.querySelector('input[name="firstName"]').value;
                const lastName = registerForm.querySelector('input[name="lastName"]').value;
                const password = registerForm.querySelector('input[name="registerPassword"]').value;
                const confirmPassword = registerForm.querySelector('input[name="confirmPassword"]').value;

                // Kiểm tra mật khẩu có khớp không
                if (password !== confirmPassword) {
                    alert('Mật khẩu nhập lại không khớp!');
                    return;
                }

                // Tạo một đối tượng người dùng mới
                const newUser = {
                    email: email,
                    firstName: firstName,
                    lastName: lastName,
                    password: password
                };

                // Lấy danh sách người dùng từ localStorage (nếu có)
                const users = JSON.parse(localStorage.getItem('users')) || [];

                // Thêm người dùng mới vào danh sách
                users.push(newUser);

                // Lưu danh sách người dùng vào localStorage
                localStorage.setItem('users', JSON.stringify(users));

                alert('Đăng ký thành công!');

                // Chuyển hướng đến trang chủ sau khi đăng ký thành công
                window.location.href = 'index.html';
            });
        });
        document.addEventListener('DOMContentLoaded', function () {
            const loginForm = document.getElementById('loginForm');

            loginForm.addEventListener('submit', function (event) {
                event.preventDefault(); // Ngăn chặn hành vi mặc định của form

                const formData = new FormData(loginForm);
                const email = formData.get('email');
                const password = formData.get('password');

                // Lấy danh sách người dùng từ localStorage
                const users = JSON.parse(localStorage.getItem('users')) || [];

                // Tìm kiếm người dùng có email và mật khẩu khớp
                const matchedUser = users.find(user => user.email === email && user.password === password);

                if (matchedUser) {
                    // Lưu thông tin người dùng vào localStorage
                    localStorage.setItem('user', JSON.stringify(matchedUser));
                    alert('Đăng nhập thành công!');
                    // Chuyển hướng đến trang chính sau khi đăng nhập thành công
                    window.location.href = 'index.html';
                } else {
                    alert('Email hoặc mật khẩu không đúng. Vui lòng thử lại!');
                }
            });
        });

    </script>
</body>

</html>